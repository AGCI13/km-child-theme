function info_bull(){let t=document.getElementById("info_bull_density");t.style.display=t.classList.contains("open")?"none":"block",t.classList.toggle("open")}async function send_form_tonnage(){let t=document.getElementById("tonnage_calculator"),e=new FormData(t);const n=Object.fromEntries(e.entries());if(n.action="tonnage_calculation",t.reportValidity())try{let t=await kmAjaxCall(n.action,n);updateResultDisplay(t.data)}catch(t){console.log("ERREUR",t)}}function updateResultDisplay(t){let e=document.getElementById("poids"),n=document.getElementById("bag"),l=document.getElementById("longueur_cm"),o=document.getElementById("longueur_m"),a=document.getElementById("largeur_cm"),c=document.getElementById("largeur_m"),u=document.getElementById("epaiseur_cm"),g=document.getElementById("densite_value");e.textContent=t.res+" "+t.unit,n.textContent=t.conditionnement,l.textContent=t.lon,o.textContent=Math.round(t.lon/100*100)/100,a.textContent=t.lar,c.textContent=Math.round(t.lar/100*100)/100,u.textContent=t.epa,g.textContent=t.den,toggleDisplay(".tonnage_calculator > .form_tonnage_calculator ",!1),toggleDisplay(".tonnage_calculator > .result_tonnage_calculator ",!0),toggleDisplay(".tonnage_calculator > .img_tonnage_calculator_form ",!1),toggleDisplay(".tonnage_calculator > .img_tonnage_calculator_result ",!0)}function reset_form_tonnage_calculator(){toggleDisplay(".tonnage_calculator > .form_tonnage_calculator ",!0),toggleDisplay(".tonnage_calculator > .result_tonnage_calculator ",!1),toggleDisplay(".tonnage_calculator > .img_tonnage_calculator_form ",!0),toggleDisplay(".tonnage_calculator > .img_tonnage_calculator_result ",!1)}function toggleDisplay(t,e){let n=document.querySelector(t);n.style.display=e?"block":"none"}document.addEventListener("DOMContentLoaded",function(){document.getElementById("img_info_bull_density").addEventListener("click",info_bull),document.getElementById("img_close_info_bull_density").addEventListener("click",info_bull),document.getElementById("submit_tonnage_calculator").addEventListener("click",send_form_tonnage),document.getElementById("reset_tonnage_calculator").addEventListener("click",reset_form_tonnage_calculator)});