jQuery(document).ready(function(t){function e(t){var e=t.toLowerCase();return e=e.replace(/[éèê]/g,"e"),e=e.replace(/[\s\W-]+/g,"-"),e}function r(t,e,r){t.removeClass(),t.addClass("transp-label "+e),t.text(r)}var a;t(".transporter_column mark").mouseenter(function(){clearTimeout(a),t(".transporter-list").remove();var e=t('<ul class="transporter-list"></ul>');t.each(transportersData,function(t,r){e.append('<li class="transporter-item" data-value="'+t+'">'+r+"</li>")}),t(this).after(e)}).mouseleave(function(){a=setTimeout(function(){t(".transporter-list").remove()},250)}),t(document).on("mouseenter",".transporter-list",function(){clearTimeout(a)}).on("mouseleave",".transporter-list",function(){a=setTimeout(function(){t(".transporter-list").remove()},250)}),t(document).on("click",".transporter-item",function(a){a.preventDefault(),a.stopPropagation();var o=t(this).data("value"),n=t(this).text(),s=t(this).closest("tr").attr("id");if(s){s=s.replace("post-",""),t(".transporter-list").remove(),t("#post-"+s).find(".transporter_column mark").after('<span class="loader">Chargement...</span>');var i=e(n);kmAjaxCall("save_transporter",{transporteur:o,post_id:s}).then(e=>{var a=t("#post-"+s).find(".transporter_column mark");r(a,i,n),t("#post-"+s).find(".loader").remove()}).catch(e=>{t("#post-"+s).find(".loader").remove()})}})});