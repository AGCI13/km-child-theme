document.addEventListener("DOMContentLoaded",function(){function e(){const e=document.querySelectorAll(".km-user-note-modal");e.forEach(function(e){e.remove()})}console.log("ready!");const t=document.querySelectorAll(".km-note-preview");t.forEach(function(t){t.addEventListener("click",function(n){n.preventDefault(),e();const o=t.getAttribute("data-user-note"),r=t.getAttribute("data-user-id"),s=document.createElement("div");s.classList.add("km-user-note-modal"),s.style.position="fixed",s.style.left="50%",s.style.top="50%",s.style.transform="translate(-50%, -50%)",s.style.backgroundColor="#fff",s.style.border="1px solid #f4f4f4",s.style.padding="20px",s.style.zIndex="1000",s.innerHTML=`<a href="/wp-admin/user-edit.php?user_id=${r}#user-note-table">Éditer</a><button style="float: right;" onclick="this.parentElement.style.display='none'">Fermer</button><p>${o}</p>`,document.body.appendChild(s)})})}),jQuery(document).ready(function(e){function t(){const t=document.querySelectorAll(".km-success-message, .km-error-message"),n=document.querySelectorAll(".km-loading-message");t.forEach(function(t){e(t).fadeOut()}),n.forEach(function(e){e.remove()})}function n(){setTimeout(t,2500)}const o=document.querySelector('[data-key="field_6536a052fb38f"]'),r=o.querySelector(".acf-input select");r&&e(r).on("select2:select",function(e){const r=new URLSearchParams(window.location.search),s=r.get("post"),a=this.value;t(),o.insertAdjacentHTML("beforeend",'<p class="km-loading-message">Chargement...</p>'),kmAjaxCall("save_transporteur",{transporteur:a,post_id:s}).then(e=>{t(),o.insertAdjacentHTML("beforeend",'<p class="km-success-message">Transporteur mis à jour !</p>'),n()}).catch(e=>{t(),o.insertAdjacentHTML("beforeend",'<p class="km-error-message">Une erreur est survenue: '+e+"</p>"),n()})})});